function (_FindTargetDependencies target output)
	get_target_property(link_libs ${target} LINK_LIBRARIES)
	foreach (link_lib ${link_libs})
		if (link_lib)
			list(APPEND ${output} ${link_lib})
			_FindTargetDependencies(${link_lib} ${output})
		endif ()
	endforeach ()
	set(${output} ${${output}} PARENT_SCOPE)
endfunction ()

function (FindTargetDependencies output)
    foreach(target ${ARGN})
        _FindTargetDependencies(${target} target_dependencies)
    endforeach()
    list(REMOVE_DUPLICATES target_dependencies)
    set(${output} ${target_dependencies} PARENT_SCOPE)
endfunction()

function (FindTargetLibraries target output)
    foreach(depend_target ${${target}})
        if (TOP_DEBUG)
            get_target_property(depend_location ${depend_target} IMPORTED_LOCATION_DEBUG)
        else ()
            get_target_property(depend_location ${depend_target} IMPORTED_LOCATION_RELEASE)
        endif ()
        if (depend_location)
            list(APPEND output ${depend_location})
        endif()
    endforeach()
    set(${output} ${${output}} PARENT_SCOPE)
endfunction()
